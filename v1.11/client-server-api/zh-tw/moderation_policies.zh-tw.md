### 審核政策列表

[![en](https://img.shields.io/badge/lang-en-purple.svg)](https://github.com/message-exp/matrix_organized_spec/tree/main/v1.11/client-server-api/en/moderation_policies.md)

由於 Matrix 是一個任何人都可以參與的開放網絡，存在著非常廣泛的內容，重要的是使用者有權選擇他們希望看到的內容，以及他們希望阻擋的內容。同樣，房間版主和伺服器管理員也應該能夠選擇他們不希望在其房間和伺服器中託管的內容。

協議在這方面的立場是中立的：它不應該決定對任何特定實體來說什麼內容是不受歡迎的，而應該賦予這些實體自己做出決定的能力。因此，描述了一個用於溝通"審核政策列表"或"審核政策房間"的通用框架。請注意，此模組僅描述數據結構，而不是如何解釋它們：做出過濾決定的實體最適合根據自己的意願解釋規則。

審核政策列表作為房間狀態事件存儲。對於房間的配置方式沒有限制（它們可以是公開的、私密的、加密的等）。

目前有 3 種可能受規則影響的實體：`user`、`server` 和 `room`。所有 3 種都用 `m.policy.rule.<kind>` 狀態事件描述。政策規則的 `state_key` 是由規則發送者決定的任意字符串。

規則包含建議和規則存在的原因。`reason` 是描述 `recommendation` 的人類可讀字符串。目前只指定了一個建議，即 `m.ban`。

#### `m.ban` 建議

當使用此建議時，受規則影響的實體應盡可能被禁止參與。這種執行故意作為實現細節留下，以避免協議強加其對如何解釋政策列表的意見。然而，以下是一個簡單實現的建議：

-   如果是 `user` 規則...
    -   應用於使用者：該使用者應被添加到訂閱者的忽略列表中。
    -   應用於房間：該使用者應被禁止進入房間（無論是在看到時還是立即）。
    -   應用於伺服器：該使用者不應被允許向伺服器上的使用者發送邀請。
-   如果是 `room` 規則...
    -   應用於使用者：該使用者應離開房間並不再加入
        （[MSC2270](https://github.com/matrix-org/matrix-spec-proposals/pull/2270) 風格忽略）。
    -   應用於房間：無操作，因為房間不能禁止自己。
    -   應用於伺服器：該伺服器應阻止使用者加入房間並接收邀請。
-   如果是 `server` 規則...
    -   應用於使用者：該使用者不應接收來自該伺服器的事件或邀請。
    -   應用於房間：該伺服器被添加為 ACL 中的被拒絕伺服器。
    -   應用於伺服器：訂閱者應盡可能避免與該伺服器聯邦，方法是阻止來自該伺服器的邀請，並且除非絕對必要，否則不發送流量（無外向邀請）。

#### 訂閱政策列表

這故意作為實現細節留下。對於使用用戶端-伺服器 API 的實現，這可以像加入或窺視房間一樣簡單。然而，不需要加入或窺視：實現可以輪詢更新或使用不同的技術來接收政策規則的更新。

#### 事件

狀態事件描述的 `entity` 被解釋為 [glob 風格模式](/appendices#glob-style-matching)。請注意，
針對房間的規則可以描述房間 ID 或房間別名 - 訂閱者負責將別名解析為房間 ID（如果需要）。

{{% event event="m.policy.rule.user" %}}

{{% event event="m.policy.rule.room" %}}

{{% event event="m.policy.rule.server" %}}

#### 用戶端行為

如上所述，用戶端行為故意未定義。

#### 伺服器行為

此模組不對伺服器施加任何額外要求。

#### 安全考慮

此模組可用於建立共享黑名單系統，如果不小心部署，可能會在已建立的社區內造成分裂。這可能不適合所有社區。

根據實現如何處理訂閱，使用者 ID 可能會與政策列表相關聯，從而暴露該使用者的觀點。例如，將使用者加入政策房間的用戶端實現將使用者的 ID 暴露給政策房間的觀察者。未來，
[MSC1228](https://github.com/matrix-org/matrix-spec-proposals/pulls/1228) 和
[MSC1777](https://github.com/matrix-org/matrix-spec-proposals/pulls/1777)（或類似方案）可能有助於解決這一問題。
