### 聊天室標籤

用戶可以為聊天室添加標籤。標籤是用於標記聊天室的命名空間字符串。一個聊天室可以有多個標籤。標籤只對設置它們的用戶可見,但在該用戶的所有設備上共享。

#### 事件

聊天室的標籤作為單個`m.tag`事件在聊天室的`account_data`部分接收。`m.tag`事件的內容是一個`tags`鍵,其值是一個對象,將每個標籤的名稱映射到另一個對象。

與每個標籤關聯的JSON對象提供了關於該標籤的資訊,例如如何對具有給定標籤的聊天室進行排序。

排序資訊在`order`鍵下給出,為0到1之間的數字。比較這些數字時,0最先顯示。因此,`order`為`0.2`的聊天室會在`order`為`0.7`的聊天室之前顯示。如果一個聊天室的標籤沒有`order`鍵,那麼它應該出現在具有該標籤且有`order`鍵的聊天室之後。

標籤的名稱不得超過255字節。

標籤命名空間定義如下:

- `m.*`命名空間保留給Matrix規範中定義的標籤。用戶端必須忽略此命名空間中它們不理解的任何標籤。
- `u.*`命名空間保留給用戶定義的標籤。`u.`之後的字符串部分被定義為此標籤的顯示名稱。不應從此命名空間中的標籤推斷出其他語義。
- 希望使用特殊標籤進行高級功能的用戶端或應用程序應該類似於狀態鍵對它們進行命名空間處理:`tld.name.*`
- 任何`tld.name.*`形式但不匹配當前用戶端命名空間的標籤應被忽略
- 任何不符合上述規則的標籤應被解釋為來自`u.*`命名空間的用戶標籤,就好像名稱已經從開頭去掉了`u.`(即標籤的名稱直接用作顯示名稱)。出於歷史原因支持這些非命名空間標籤。新標籤應使用上面定義的命名空間之一。

規範中列出了幾個特殊名稱:以下標籤在`m.*`命名空間中定義:

- `m.favourite`: 用戶最喜歡的聊天室。這些應該比其他聊天室顯示更高的優先級。
- `m.lowpriority`: 這些應該比其他聊天室顯示更低的優先級。
- `m.server_notice`: 用於識別[伺服器通知聊天室](#server-notices)。

{{% event event="m.tag" %}}

#### 用戶端行為

{{% http-api spec="client-server" api="tags" %}}
