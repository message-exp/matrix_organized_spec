### 忽略使用者

[![en](https://img.shields.io/badge/lang-en-purple.svg)](https://github.com/message-exp/matrix_organized_spec/tree/main/v1.11/client-server-api/en/ignore_users.md)

透過 Matrix 進行所有通訊時，可能因為某些原因希望忽略特定使用者。本模組定義了客戶端和伺服器如何實現忽略使用者的功能。

#### 事件

{{% event event="m.ignored_user_list" %}}

#### 客戶端行為

要忽略一個使用者，即有效地封鎖他們，客戶端應使用 [`/user/<user_id>/account_data/<type>`](/client-server-api/#put_matrixclientv3useruseridaccount_datatype) 將目標使用者添加到其帳戶資料中的 `m.ignored_user_list` 事件。一旦被忽略，客戶端將不再接收該使用者發送的事件，除了狀態事件。客戶端應該隱藏新被忽略使用者之前發送的內容，或執行一個沒有先前令牌的新 `/sync`。

被忽略使用者邀請加入新房間的邀請將不會發送給客戶端。伺服器可以選擇代表客戶端拒絕邀請。

即使使用者被忽略，狀態事件仍會發送給客戶端。這是為了確保某些部分，如房間名稱，不會因為發送者被忽略而對使用者顯示不同。

要從被忽略使用者列表中移除使用者，請從帳戶資料事件中移除他們。伺服器將恢復發送先前被忽略使用者的事件，但不應發送在使用者被忽略期間錯過的事件。要接收在使用者被忽略期間發送的事件，客戶端應執行一次全新的同步。客戶端也可以取消隱藏之前因使用者被忽略而隱藏的任何事件。

#### 伺服器行為

在更新 `m.ignored_user_list` 後，所有客戶端的同步 API 應立即開始忽略（或取消忽略）該使用者。客戶端負責決定是否應該隱藏先前發送的事件或開始新的同步流。

伺服器必須仍然將被忽略使用者發送的狀態事件發送給客戶端。

伺服器不得將被忽略使用者的房間邀請發送給客戶端。然而，伺服器可以選擇拒絕邀請。